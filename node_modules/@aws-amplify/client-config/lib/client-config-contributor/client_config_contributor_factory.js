// Versions of config schemas supported by this package version
import { AuthClientConfigContributorV1_1 as Auth1_1, AuthClientConfigContributorV1_3 as Auth1_3, AuthClientConfigContributor as Auth1_4, CustomClientConfigContributor as Custom1_1, DataClientConfigContributor as Data1_1, StorageClientConfigContributorV1 as Storage1, StorageClientConfigContributorV1_1 as Storage1_1, StorageClientConfigContributor as Storage1_2, VersionContributor as VersionContributor1_4, VersionContributorV1, VersionContributorV1_1, VersionContributorV1_2, VersionContributorV1_3, } from './client_config_contributor_v1.js';
import { ClientConfigVersionOption, } from '../client-config-types/client_config.js';
/**
 * Factory to generate client config contributors for client config schema given a version
 */
export class ClientConfigContributorFactory {
    modelIntrospectionSchemaAdapter;
    versionedClientConfigContributors;
    /**
     * Creates a list of all contributors available and caches it.
     */
    constructor(modelIntrospectionSchemaAdapter) {
        this.modelIntrospectionSchemaAdapter = modelIntrospectionSchemaAdapter;
        this.versionedClientConfigContributors = {
            [ClientConfigVersionOption.V1_4]: [
                new Auth1_4(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributor1_4(),
                new Custom1_1(),
            ],
            [ClientConfigVersionOption.V1_3]: [
                new Auth1_3(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributorV1_3(),
                new Custom1_1(),
            ],
            [ClientConfigVersionOption.V1_2]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributorV1_2(),
                new Custom1_1(),
            ],
            [ClientConfigVersionOption.V1_1]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_1(),
                new VersionContributorV1_1(),
                new Custom1_1(),
            ],
            // Except for storage and version, other contributors are same as V1
            [ClientConfigVersionOption.V1]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1(),
                new VersionContributorV1(),
                new Custom1_1(),
            ],
            // Legacy config is derived from V1.4 (latest) of unified default config
            [ClientConfigVersionOption.V0]: [
                new Auth1_1(),
                new Data1_1(this.modelIntrospectionSchemaAdapter),
                new Storage1_2(),
                new VersionContributor1_4(),
                new Custom1_1(),
            ],
        };
    }
    /**
     * Return all the contributors for the given version
     */
    getContributors(version) {
        return this.versionedClientConfigContributors[version];
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50X2NvbmZpZ19jb250cmlidXRvcl9mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC1jb25maWctY29udHJpYnV0b3IvY2xpZW50X2NvbmZpZ19jb250cmlidXRvcl9mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtEQUErRDtBQUMvRCxPQUFPLEVBQ0wsK0JBQStCLElBQUksT0FBTyxFQUMxQywrQkFBK0IsSUFBSSxPQUFPLEVBQzFDLDJCQUEyQixJQUFJLE9BQU8sRUFDdEMsNkJBQTZCLElBQUksU0FBUyxFQUMxQywyQkFBMkIsSUFBSSxPQUFPLEVBQ3RDLGdDQUFnQyxJQUFJLFFBQVEsRUFDNUMsa0NBQWtDLElBQUksVUFBVSxFQUNoRCw4QkFBOEIsSUFBSSxVQUFVLEVBQzVDLGtCQUFrQixJQUFJLHFCQUFxQixFQUMzQyxvQkFBb0IsRUFDcEIsc0JBQXNCLEVBQ3RCLHNCQUFzQixFQUN0QixzQkFBc0IsR0FDdkIsTUFBTSxtQ0FBbUMsQ0FBQztBQUkzQyxPQUFPLEVBRUwseUJBQXlCLEdBQzFCLE1BQU0seUNBQXlDLENBQUM7QUFDakQ7O0dBRUc7QUFDSCxNQUFNLE9BQU8sOEJBQThCO0lBVXRCO0lBVG5CLGlDQUFpQyxDQUcvQjtJQUVGOztPQUVHO0lBQ0gsWUFDbUIsK0JBQWdFO1FBQWhFLG9DQUErQixHQUEvQiwrQkFBK0IsQ0FBaUM7UUFFakYsSUFBSSxDQUFDLGlDQUFpQyxHQUFHO1lBQ3ZDLENBQUMseUJBQXlCLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2hDLElBQUksT0FBTyxFQUFFO2dCQUNiLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQztnQkFDakQsSUFBSSxVQUFVLEVBQUU7Z0JBQ2hCLElBQUkscUJBQXFCLEVBQUU7Z0JBQzNCLElBQUksU0FBUyxFQUFFO2FBQ2hCO1lBRUQsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDaEMsSUFBSSxPQUFPLEVBQUU7Z0JBQ2IsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLCtCQUErQixDQUFDO2dCQUNqRCxJQUFJLFVBQVUsRUFBRTtnQkFDaEIsSUFBSSxzQkFBc0IsRUFBRTtnQkFDNUIsSUFBSSxTQUFTLEVBQUU7YUFDaEI7WUFFRCxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNoQyxJQUFJLE9BQU8sRUFBRTtnQkFDYixJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsK0JBQStCLENBQUM7Z0JBQ2pELElBQUksVUFBVSxFQUFFO2dCQUNoQixJQUFJLHNCQUFzQixFQUFFO2dCQUM1QixJQUFJLFNBQVMsRUFBRTthQUNoQjtZQUVELENBQUMseUJBQXlCLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2hDLElBQUksT0FBTyxFQUFFO2dCQUNiLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQztnQkFDakQsSUFBSSxVQUFVLEVBQUU7Z0JBQ2hCLElBQUksc0JBQXNCLEVBQUU7Z0JBQzVCLElBQUksU0FBUyxFQUFFO2FBQ2hCO1lBRUQsb0VBQW9FO1lBQ3BFLENBQUMseUJBQXlCLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQzlCLElBQUksT0FBTyxFQUFFO2dCQUNiLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQztnQkFDakQsSUFBSSxRQUFRLEVBQUU7Z0JBQ2QsSUFBSSxvQkFBb0IsRUFBRTtnQkFDMUIsSUFBSSxTQUFTLEVBQUU7YUFDaEI7WUFFRCx3RUFBd0U7WUFDeEUsQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxPQUFPLEVBQUU7Z0JBQ2IsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLCtCQUErQixDQUFDO2dCQUNqRCxJQUFJLFVBQVUsRUFBRTtnQkFDaEIsSUFBSSxxQkFBcUIsRUFBRTtnQkFDM0IsSUFBSSxTQUFTLEVBQUU7YUFDaEI7U0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0gsZUFBZSxDQUFDLE9BQTRCO1FBQzFDLE9BQU8sSUFBSSxDQUFDLGlDQUFpQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pELENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbIi8vIFZlcnNpb25zIG9mIGNvbmZpZyBzY2hlbWFzIHN1cHBvcnRlZCBieSB0aGlzIHBhY2thZ2UgdmVyc2lvblxuaW1wb3J0IHtcbiAgQXV0aENsaWVudENvbmZpZ0NvbnRyaWJ1dG9yVjFfMSBhcyBBdXRoMV8xLFxuICBBdXRoQ2xpZW50Q29uZmlnQ29udHJpYnV0b3JWMV8zIGFzIEF1dGgxXzMsXG4gIEF1dGhDbGllbnRDb25maWdDb250cmlidXRvciBhcyBBdXRoMV80LFxuICBDdXN0b21DbGllbnRDb25maWdDb250cmlidXRvciBhcyBDdXN0b20xXzEsXG4gIERhdGFDbGllbnRDb25maWdDb250cmlidXRvciBhcyBEYXRhMV8xLFxuICBTdG9yYWdlQ2xpZW50Q29uZmlnQ29udHJpYnV0b3JWMSBhcyBTdG9yYWdlMSxcbiAgU3RvcmFnZUNsaWVudENvbmZpZ0NvbnRyaWJ1dG9yVjFfMSBhcyBTdG9yYWdlMV8xLFxuICBTdG9yYWdlQ2xpZW50Q29uZmlnQ29udHJpYnV0b3IgYXMgU3RvcmFnZTFfMixcbiAgVmVyc2lvbkNvbnRyaWJ1dG9yIGFzIFZlcnNpb25Db250cmlidXRvcjFfNCxcbiAgVmVyc2lvbkNvbnRyaWJ1dG9yVjEsXG4gIFZlcnNpb25Db250cmlidXRvclYxXzEsXG4gIFZlcnNpb25Db250cmlidXRvclYxXzIsXG4gIFZlcnNpb25Db250cmlidXRvclYxXzMsXG59IGZyb20gJy4vY2xpZW50X2NvbmZpZ19jb250cmlidXRvcl92MS5qcyc7XG5cbmltcG9ydCB7IENsaWVudENvbmZpZ0NvbnRyaWJ1dG9yIH0gZnJvbSAnLi4vY2xpZW50LWNvbmZpZy10eXBlcy9jbGllbnRfY29uZmlnX2NvbnRyaWJ1dG9yLmpzJztcbmltcG9ydCB7IE1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXIgfSBmcm9tICcuLi9tb2RlbF9pbnRyb3NwZWN0aW9uX3NjaGVtYV9hZGFwdGVyLmpzJztcbmltcG9ydCB7XG4gIENsaWVudENvbmZpZ1ZlcnNpb24sXG4gIENsaWVudENvbmZpZ1ZlcnNpb25PcHRpb24sXG59IGZyb20gJy4uL2NsaWVudC1jb25maWctdHlwZXMvY2xpZW50X2NvbmZpZy5qcyc7XG4vKipcbiAqIEZhY3RvcnkgdG8gZ2VuZXJhdGUgY2xpZW50IGNvbmZpZyBjb250cmlidXRvcnMgZm9yIGNsaWVudCBjb25maWcgc2NoZW1hIGdpdmVuIGEgdmVyc2lvblxuICovXG5leHBvcnQgY2xhc3MgQ2xpZW50Q29uZmlnQ29udHJpYnV0b3JGYWN0b3J5IHtcbiAgdmVyc2lvbmVkQ2xpZW50Q29uZmlnQ29udHJpYnV0b3JzOiBSZWNvcmQ8XG4gICAgQ2xpZW50Q29uZmlnVmVyc2lvbixcbiAgICBDbGllbnRDb25maWdDb250cmlidXRvcltdXG4gID47XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBsaXN0IG9mIGFsbCBjb250cmlidXRvcnMgYXZhaWxhYmxlIGFuZCBjYWNoZXMgaXQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXI6IE1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXIsXG4gICkge1xuICAgIHRoaXMudmVyc2lvbmVkQ2xpZW50Q29uZmlnQ29udHJpYnV0b3JzID0ge1xuICAgICAgW0NsaWVudENvbmZpZ1ZlcnNpb25PcHRpb24uVjFfNF06IFtcbiAgICAgICAgbmV3IEF1dGgxXzQoKSxcbiAgICAgICAgbmV3IERhdGExXzEodGhpcy5tb2RlbEludHJvc3BlY3Rpb25TY2hlbWFBZGFwdGVyKSxcbiAgICAgICAgbmV3IFN0b3JhZ2UxXzIoKSxcbiAgICAgICAgbmV3IFZlcnNpb25Db250cmlidXRvcjFfNCgpLFxuICAgICAgICBuZXcgQ3VzdG9tMV8xKCksXG4gICAgICBdLFxuXG4gICAgICBbQ2xpZW50Q29uZmlnVmVyc2lvbk9wdGlvbi5WMV8zXTogW1xuICAgICAgICBuZXcgQXV0aDFfMygpLFxuICAgICAgICBuZXcgRGF0YTFfMSh0aGlzLm1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXIpLFxuICAgICAgICBuZXcgU3RvcmFnZTFfMigpLFxuICAgICAgICBuZXcgVmVyc2lvbkNvbnRyaWJ1dG9yVjFfMygpLFxuICAgICAgICBuZXcgQ3VzdG9tMV8xKCksXG4gICAgICBdLFxuXG4gICAgICBbQ2xpZW50Q29uZmlnVmVyc2lvbk9wdGlvbi5WMV8yXTogW1xuICAgICAgICBuZXcgQXV0aDFfMSgpLFxuICAgICAgICBuZXcgRGF0YTFfMSh0aGlzLm1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXIpLFxuICAgICAgICBuZXcgU3RvcmFnZTFfMigpLFxuICAgICAgICBuZXcgVmVyc2lvbkNvbnRyaWJ1dG9yVjFfMigpLFxuICAgICAgICBuZXcgQ3VzdG9tMV8xKCksXG4gICAgICBdLFxuXG4gICAgICBbQ2xpZW50Q29uZmlnVmVyc2lvbk9wdGlvbi5WMV8xXTogW1xuICAgICAgICBuZXcgQXV0aDFfMSgpLFxuICAgICAgICBuZXcgRGF0YTFfMSh0aGlzLm1vZGVsSW50cm9zcGVjdGlvblNjaGVtYUFkYXB0ZXIpLFxuICAgICAgICBuZXcgU3RvcmFnZTFfMSgpLFxuICAgICAgICBuZXcgVmVyc2lvbkNvbnRyaWJ1dG9yVjFfMSgpLFxuICAgICAgICBuZXcgQ3VzdG9tMV8xKCksXG4gICAgICBdLFxuXG4gICAgICAvLyBFeGNlcHQgZm9yIHN0b3JhZ2UgYW5kIHZlcnNpb24sIG90aGVyIGNvbnRyaWJ1dG9ycyBhcmUgc2FtZSBhcyBWMVxuICAgICAgW0NsaWVudENvbmZpZ1ZlcnNpb25PcHRpb24uVjFdOiBbXG4gICAgICAgIG5ldyBBdXRoMV8xKCksXG4gICAgICAgIG5ldyBEYXRhMV8xKHRoaXMubW9kZWxJbnRyb3NwZWN0aW9uU2NoZW1hQWRhcHRlciksXG4gICAgICAgIG5ldyBTdG9yYWdlMSgpLFxuICAgICAgICBuZXcgVmVyc2lvbkNvbnRyaWJ1dG9yVjEoKSxcbiAgICAgICAgbmV3IEN1c3RvbTFfMSgpLFxuICAgICAgXSxcblxuICAgICAgLy8gTGVnYWN5IGNvbmZpZyBpcyBkZXJpdmVkIGZyb20gVjEuNCAobGF0ZXN0KSBvZiB1bmlmaWVkIGRlZmF1bHQgY29uZmlnXG4gICAgICBbQ2xpZW50Q29uZmlnVmVyc2lvbk9wdGlvbi5WMF06IFtcbiAgICAgICAgbmV3IEF1dGgxXzEoKSxcbiAgICAgICAgbmV3IERhdGExXzEodGhpcy5tb2RlbEludHJvc3BlY3Rpb25TY2hlbWFBZGFwdGVyKSxcbiAgICAgICAgbmV3IFN0b3JhZ2UxXzIoKSxcbiAgICAgICAgbmV3IFZlcnNpb25Db250cmlidXRvcjFfNCgpLFxuICAgICAgICBuZXcgQ3VzdG9tMV8xKCksXG4gICAgICBdLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFsbCB0aGUgY29udHJpYnV0b3JzIGZvciB0aGUgZ2l2ZW4gdmVyc2lvblxuICAgKi9cbiAgZ2V0Q29udHJpYnV0b3JzKHZlcnNpb246IENsaWVudENvbmZpZ1ZlcnNpb24pIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uZWRDbGllbnRDb25maWdDb250cmlidXRvcnNbdmVyc2lvbl07XG4gIH1cbn1cbiJdfQ==