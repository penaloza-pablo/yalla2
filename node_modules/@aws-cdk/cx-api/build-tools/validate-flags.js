"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateFlags = validateFlags;
const features_1 = require("../lib/features");
const flag_modeling_1 = require("../lib/private/flag-modeling");
function validateFlags() {
    for (const [flagName, flag] of Object.entries(features_1.FLAGS)) {
        if (flag.introducedIn[features_1.CURRENT_MV] !== undefined) {
            if (!/^[0-9.]+$/.test(flag.introducedIn[features_1.CURRENT_MV]) && flag.introducedIn[features_1.CURRENT_MV] != flag_modeling_1.MAGIC_V2NEXT) {
                throw new Error(`Flag '${flagName}': introducedIn is not a valid version or the magic string. Did you misspell the magic string? (If you are introducing a new flag, you will not know the future release number yet, so there's no meaningful value you can put in "introducedIn". Use the magic string and it will be string-replaced in the source file on the next release.)`);
            }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGUtZmxhZ3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ2YWxpZGF0ZS1mbGFncy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLHNDQVFDO0FBWEQsOENBQW9EO0FBQ3BELGdFQUE0RDtBQUU1RCxTQUFnQixhQUFhO0lBQzNCLEtBQUssTUFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLGdCQUFLLENBQUMsRUFBRSxDQUFDO1FBQ3JELElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxxQkFBVSxDQUFDLEtBQUssU0FBUyxFQUFFLENBQUM7WUFDaEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxxQkFBVSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLHFCQUFVLENBQUMsSUFBSSw0QkFBWSxFQUFFLENBQUM7Z0JBQ3RHLE1BQU0sSUFBSSxLQUFLLENBQUMsU0FBUyxRQUFRLGdWQUFnVixDQUFDLENBQUM7WUFDclgsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENVUlJFTlRfTVYsIEZMQUdTIH0gZnJvbSAnLi4vbGliL2ZlYXR1cmVzJztcbmltcG9ydCB7IE1BR0lDX1YyTkVYVCB9IGZyb20gJy4uL2xpYi9wcml2YXRlL2ZsYWctbW9kZWxpbmcnO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVGbGFncygpIHtcbiAgZm9yIChjb25zdCBbZmxhZ05hbWUsIGZsYWddIG9mIE9iamVjdC5lbnRyaWVzKEZMQUdTKSkge1xuICAgIGlmIChmbGFnLmludHJvZHVjZWRJbltDVVJSRU5UX01WXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIS9eWzAtOS5dKyQvLnRlc3QoZmxhZy5pbnRyb2R1Y2VkSW5bQ1VSUkVOVF9NVl0pICYmIGZsYWcuaW50cm9kdWNlZEluW0NVUlJFTlRfTVZdICE9IE1BR0lDX1YyTkVYVCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZsYWcgJyR7ZmxhZ05hbWV9JzogaW50cm9kdWNlZEluIGlzIG5vdCBhIHZhbGlkIHZlcnNpb24gb3IgdGhlIG1hZ2ljIHN0cmluZy4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgbWFnaWMgc3RyaW5nPyAoSWYgeW91IGFyZSBpbnRyb2R1Y2luZyBhIG5ldyBmbGFnLCB5b3Ugd2lsbCBub3Qga25vdyB0aGUgZnV0dXJlIHJlbGVhc2UgbnVtYmVyIHlldCwgc28gdGhlcmUncyBubyBtZWFuaW5nZnVsIHZhbHVlIHlvdSBjYW4gcHV0IGluIFwiaW50cm9kdWNlZEluXCIuIFVzZSB0aGUgbWFnaWMgc3RyaW5nIGFuZCBpdCB3aWxsIGJlIHN0cmluZy1yZXBsYWNlZCBpbiB0aGUgc291cmNlIGZpbGUgb24gdGhlIG5leHQgcmVsZWFzZS4pYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=